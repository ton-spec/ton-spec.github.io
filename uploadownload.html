<!DOCTYPE html>
<html>
<head>
  <title>File Manager</title>
</head>
<body>
  <input type="file" id="fileInput" style="display: none;" onchange="uploadFile(event)">
  <label for="fileInput" style="cursor: pointer;">Choose File</label>
  <button onclick="triggerFileInput()">Upload File</button>
  
  <hr>
  
  <div id="fileList">
    <!-- Display uploaded files here -->
  </div>

  <script>
    let files = [];

    function uploadFile(event) {
      const newFiles = Array.from(event.target.files || []);

      newFiles.forEach(file => {
        files.push(file);
      });

      localStorage.setItem('filesArray', JSON.stringify(files)); // Save files array to localStorage
      displayFiles();
    }

    function triggerFileInput() {
      const fileInput = document.getElementById('fileInput');
      fileInput.click();
    }

    function displayFiles() {
      const fileListDiv = document.getElementById('fileList');
      fileListDiv.innerHTML = '';

      const storedFiles = localStorage.getItem('filesArray');

      if (storedFiles) {
        files = JSON.parse(storedFiles); // Retrieve files array from localStorage
      }

      files.forEach((file, index) => {
        const fileItem = document.createElement('div');
        const link = document.createElement('a');
        link.href = `displayResults.html?index=${index}`;
        link.textContent = file.name;

        fileItem.appendChild(link);
        fileListDiv.appendChild(fileItem);
      });
    }
  </script>
</body>
</html>
